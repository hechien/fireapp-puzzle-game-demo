{"mtime":1393259764,"js":"(function() {\n  var checkNumber, clearedBlocks, clearedNumbers, doc, drawPuzzle, firstClickBlock, matchedList, puzzleBlockAmount, puzzleBlocks, puzzleItemAmount, resetPuzzle;\n\n  (function() {\n    var _base, _ref;\n\n    return (_ref = (_base = Array.prototype).shuffle) != null ? _ref : _base.shuffle = function() {\n      var i, j, _i, _ref1, _ref2;\n\n      for (i = _i = _ref1 = this.length - 1; _ref1 <= 1 ? _i <= 1 : _i >= 1; i = _ref1 <= 1 ? ++_i : --_i) {\n        j = Math.floor(Math.random() * (i + 1));\n        _ref2 = [this[j], this[i]], this[i] = _ref2[0], this[j] = _ref2[1];\n      }\n      return this;\n    };\n  })();\n\n  puzzleBlockAmount = 16;\n\n  puzzleItemAmount = puzzleBlockAmount / 2;\n\n  puzzleBlocks = [];\n\n  firstClickBlock = null;\n\n  clearedBlocks = [];\n\n  clearedNumbers = [];\n\n  doc = $(document);\n\n  matchedList = null;\n\n  resetPuzzle = function() {\n    var _i, _results;\n\n    puzzleBlocks = (function() {\n      _results = [];\n      for (var _i = 1; 1 <= puzzleBlockAmount ? _i <= puzzleBlockAmount : _i >= puzzleBlockAmount; 1 <= puzzleBlockAmount ? _i++ : _i--){ _results.push(_i); }\n      return _results;\n    }).apply(this).shuffle().slice(0, puzzleItemAmount);\n    clearedNumbers = [];\n    clearedBlocks = [];\n    return firstClickBlock = null;\n  };\n\n  drawPuzzle = function() {\n    var blocks, listItems;\n\n    resetPuzzle();\n    blocks = $('#blocks');\n    listItems = blocks.children('li');\n    return $(puzzleBlocks).each(function(index, number) {\n      $(listItems[index]).find('span').removeClass('active matched').addClass('inactive').text(number);\n      return $(listItems[index + 8]).find('span').removeClass('active matched').addClass('inactive').text(number);\n    });\n  };\n\n  checkNumber = function(secondClickBlock) {\n    var firstClickBlockClassList, secondClickBlockClassList, _ref;\n\n    firstClickBlockClassList = firstClickBlock.classList;\n    secondClickBlockClassList = secondClickBlock.classList;\n    if (firstClickBlock.innerText !== secondClickBlock.innerText) {\n      firstClickBlockClassList.remove('active');\n      secondClickBlockClassList.remove('active');\n      firstClickBlockClassList.add('inactive');\n      secondClickBlockClassList.add('inactive');\n    }\n    if (firstClickBlock.innerText === secondClickBlock.innerText) {\n      firstClickBlockClassList.remove('active');\n      secondClickBlockClassList.remove('active');\n      firstClickBlockClassList.add('matched');\n      secondClickBlockClassList.add('matched');\n      clearedBlocks.push([firstClickBlock, secondClickBlock]);\n      clearedNumbers.push(firstClickBlock.innerText);\n      $.each([firstClickBlock, secondClickBlock], function(index, item) {\n        return item.innerHTML = '&nbsp;';\n      });\n      matchedList.text((clearedNumbers.map(function(item) {\n        return item;\n      })).join(', '));\n    }\n    return _ref = [null, null], firstClickBlock = _ref[0], secondClickBlock = _ref[1], _ref;\n  };\n\n  doc.ready(function() {\n    matchedList = $('#matched');\n    drawPuzzle();\n    return doc.on('click', '#load-numbers', function() {\n      return drawPuzzle();\n    }).on('click', 'span.inactive', function() {\n      $(this).removeClass('inactive').addClass('active');\n      if (firstClickBlock === null) {\n        firstClickBlock = this;\n      }\n      if (firstClickBlock !== this) {\n        return checkNumber(this);\n      }\n    });\n  });\n\n}).call(this);\n"}